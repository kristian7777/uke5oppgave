<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handleliste</title>
</head>

<body>
    <div id="app"></div>

    <script>
        // MODEL
        let inputValue = ''
        let handleliste = ['Melk', 'Bakepulver', 'Kakao', 'Egg', 'Smør']
        let nchange = 'name not currently chosen'

        // VIEW
        show();
        function show() {
            let html = '';

            for (let i = 0; i < handleliste.length; i++) {
                html += `
                    <li>
                        ${handleliste[i]} 
                        <button onclick="changeItem(${i})">Change name</button>
                        <button onclick="deleteItem(${i})">delete from list</button>
                    </li> `
            }

            html += `<input oninput="inputValue = this.value" type="text"> <button onclick="addItem()">Legg til </button><br>`;
            html +=`<p> button under endrer variable av changes tekst skriv inn tekst i bytt navn input og klikk på button for nytt "Changes" navn klikk så på en av 
                changes knappene for og endre navn på liste<br>`; 
            html += `<input oninput="nchange = this.value" type="text"> <button onclick="changeItem(index)">bytt navn </button>`;
            html += `<p>changes button current text: [${nchange}]</p>`
            document.getElementById("app").innerHTML = html;
        }

        // CONTROLLER

        function addItem() {
            handleliste.push(inputValue);
            inputValue = "";
            show();
        }

        function deleteItem(index) {
            handleliste.splice(index, 1);
            show();
        }
        function changeItem(index) {
            handleliste[index] = nchange;
            
            show();
        }
        
        
    </script>
</body>
</html>